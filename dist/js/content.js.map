{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/lodash.assignin/index.js","webpack:///../node_modules/webext-redux/lib/alias/alias.js","webpack:///../node_modules/webext-redux/lib/constants/index.js","webpack:///../node_modules/webext-redux/lib/index.js","webpack:///../node_modules/webext-redux/lib/serialization.js","webpack:///../node_modules/webext-redux/lib/store/Store.js","webpack:///../node_modules/webext-redux/lib/store/applyMiddleware.js","webpack:///../node_modules/webext-redux/lib/strategies/constants.js","webpack:///../node_modules/webext-redux/lib/strategies/shallowDiff/diff.js","webpack:///../node_modules/webext-redux/lib/strategies/shallowDiff/patch.js","webpack:///../node_modules/webext-redux/lib/util.js","webpack:///../node_modules/webext-redux/lib/wrap-store/wrapStore.js","webpack:///../node_modules/webpack/buildin/global.js","webpack:///./actions/index.ts","webpack:///./content/content.ts"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,UAAU;AACV;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACjnBa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA,UAAU,OAAO,oFAAoF,kCAAkC;AACvI;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,2B;;;;;;;;;;;;AC5Ba;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,uCAAuC;AACvC;;AAEA;AACA,iCAAiC;AACjC;;AAEA;AACA,6CAA6C;AAC7C;;AAEA;AACA;AACA,8C;;;;;;;;;;;;ACrBa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,oCAAoC,mBAAO,CAAC,sEAAe;;AAE3D,8CAA8C,mBAAO,CAAC,0FAAyB;;AAE/E,wCAAwC,mBAAO,CAAC,wFAAwB;;AAExE,oCAAoC,mBAAO,CAAC,sEAAe;;AAE3D,sCAAsC,uCAAuC,gBAAgB,E;;;;;;;;;;;;ACtChF;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,mCAAmC,0DAA0D,sFAAsF,gEAAgE,EAAE,GAAG,EAAE,iCAAiC,2CAA2C,EAAE,EAAE,EAAE,eAAe;;AAE/d,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M;AACA;AACA;;AAEA;;AAEA;AACA;AACA,yBAAyB;AACzB;AACA,GAAG,KAAK;AACR;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4FAA4F,aAAa;AACzG;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA,8FAA8F,eAAe;AAC7G;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,kCAAkC,kCAAkC,UAAU;AAC9E,iBAAiB;AACjB,kCAAkC,WAAW,UAAU;AACvD,kBAAkB,SAAS;AAC3B;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA,6BAA6B,WAAW,WAAW;AACnD,kBAAkB,SAAS;AAC3B;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,4EAA4E,eAAe;AAC3F;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wC;;;;;;;;;;;;ACxIa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,qCAAqC,mBAAO,CAAC,iEAAiB;;AAE9D,iBAAiB,mBAAO,CAAC,yEAAc;;AAEvC,qBAAqB,mBAAO,CAAC,2EAAkB;;AAE/C,oCAAoC,mBAAO,CAAC,yGAAiC;;AAE7E,YAAY,mBAAO,CAAC,yDAAS;;AAE7B,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAErN;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO,4BAA4B,qEAAqE,8JAA8J;AACpR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,mCAAmC;;AAEnC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL,6CAA6C;AAC7C;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB,gBAAgB,SAAS;AACzB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,QAAQ;AACxB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,6EAA6E;;AAE7E;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA,2B;;;;;;;;;;;;ACjQa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,kCAAkC,iFAAiF;;AAEnH,+BAA+B,wEAAwE;;AAEvG,iCAAiC,+HAA+H;;AAEhK,kCAAkC,0BAA0B,8CAA8C,gBAAgB,OAAO,kBAAkB,EAAE,aAAa,EAAE;;AAEpK;AACA;AACA;AACA,sEAAsE,aAAa;AACnF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;;;AAGA;AACA,mGAAmG,eAAe;AAClH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,C;;;;;;;;;;;;AC9Da;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA,oCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA,8D;;;;;;;;;;;;ACfa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,iBAAiB,mBAAO,CAAC,8EAAc;;AAEvC;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA,C;;;;;;;;;;;;ACtCa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,iBAAiB,mBAAO,CAAC,8EAAc;;AAEvC;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA,C;;;;;;;;;;;;AC9BA,8CAAa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;;ACpBa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,iBAAiB,mBAAO,CAAC,yEAAc;;AAEvC,qBAAqB,mBAAO,CAAC,2EAAkB;;AAE/C,YAAY,mBAAO,CAAC,yDAAS;;AAE7B,mCAAmC,mBAAO,CAAC,uGAAgC;;AAE3E,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO,4BAA4B,sDAAsD;AACpG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC;AACnC;AACA,OAAO;AACP;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,MAAM;;;AAGN,kDAAkD;;AAElD,+CAA+C;;AAE/C;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;A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","file":"js/content.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./content/content.ts\");\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = assignIn;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * Simple middleware intercepts actions and replaces with\n * another by calling an alias function with the original action\n * @type {object} aliases an object that maps action types (keys) to alias functions (values) (e.g. { SOME_ACTION: newActionAliasFunc })\n */\nvar _default = function _default(aliases) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        var alias = aliases[action.type];\n\n        if (alias) {\n          return next(alias(action));\n        }\n\n        return next(action);\n      };\n    };\n  };\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DEFAULT_PORT_NAME = exports.PATCH_STATE_TYPE = exports.STATE_TYPE = exports.DISPATCH_TYPE = void 0;\n// Message type used for dispatch events\n// from the Proxy Stores to background\nvar DISPATCH_TYPE = 'chromex.dispatch'; // Message type for state update events from\n// background to Proxy Stores\n\nexports.DISPATCH_TYPE = DISPATCH_TYPE;\nvar STATE_TYPE = 'chromex.state'; // Message type for state patch events from\n// background to Proxy Stores\n\nexports.STATE_TYPE = STATE_TYPE;\nvar PATCH_STATE_TYPE = 'chromex.patch_state'; // The default name for the port communication via\n// react-chrome-redux\n\nexports.PATCH_STATE_TYPE = PATCH_STATE_TYPE;\nvar DEFAULT_PORT_NAME = \"chromex.port_name\";\nexports.DEFAULT_PORT_NAME = DEFAULT_PORT_NAME;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Store\", {\n  enumerable: true,\n  get: function get() {\n    return _Store.default;\n  }\n});\nObject.defineProperty(exports, \"applyMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _applyMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"wrapStore\", {\n  enumerable: true,\n  get: function get() {\n    return _wrapStore.default;\n  }\n});\nObject.defineProperty(exports, \"alias\", {\n  enumerable: true,\n  get: function get() {\n    return _alias.default;\n  }\n});\n\nvar _Store = _interopRequireDefault(require(\"./store/Store\"));\n\nvar _applyMiddleware = _interopRequireDefault(require(\"./store/applyMiddleware\"));\n\nvar _wrapStore = _interopRequireDefault(require(\"./wrap-store/wrapStore\"));\n\nvar _alias = _interopRequireDefault(require(\"./alias/alias\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withSerializer = exports.withDeserializer = exports.noop = void 0;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar noop = function noop(payload) {\n  return payload;\n};\n\nexports.noop = noop;\n\nvar transformPayload = function transformPayload(message) {\n  var transformer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return _objectSpread({}, message, message.payload ? {\n    payload: transformer(message.payload)\n  } : {});\n};\n\nvar deserializeListener = function deserializeListener(listener) {\n  var deserializer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  var shouldDeserialize = arguments.length > 2 ? arguments[2] : undefined;\n\n  // If a shouldDeserialize function is passed, return a function that uses it\n  // to check if any given message payload should be deserialized\n  if (shouldDeserialize) {\n    return function (message) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (shouldDeserialize.apply(void 0, [message].concat(args))) {\n        return listener.apply(void 0, [transformPayload(message, deserializer)].concat(args));\n      }\n\n      return listener.apply(void 0, [message].concat(args));\n    };\n  } // Otherwise, return a function that tries to deserialize on every message\n\n\n  return function (message) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return listener.apply(void 0, [transformPayload(message, deserializer)].concat(args));\n  };\n};\n/**\n * A function returned from withDeserializer that, when called, wraps addListenerFn with the\n * deserializer passed to withDeserializer.\n * @name AddListenerDeserializer\n * @function\n * @param {Function} addListenerFn The add listener function to wrap.\n * @returns {DeserializedAddListener}\n */\n\n/**\n * A wrapped add listener function that registers the given listener.\n * @name DeserializedAddListener\n * @function\n * @param {Function} listener The listener function to register. It should expect the (optionally)\n * deserialized message as its first argument.\n * @param {Function} [shouldDeserialize] A function that takes the arguments passed to the listener\n * and returns whether the message payload should be deserialized. Not all messages (notably, messages\n * this listener doesn't care about) should be attempted to be deserialized.\n */\n\n/**\n * Given a deserializer, returns an AddListenerDeserializer function that that takes an add listener\n * function and returns a DeserializedAddListener that automatically deserializes message payloads.\n * Each message listener is expected to take the message as its first argument.\n * @param {Function} deserializer A function that deserializes a message payload.\n * @returns {AddListenerDeserializer}\n * Example Usage:\n *   const withJsonDeserializer = withDeserializer(payload => JSON.parse(payload));\n *   const deserializedChromeListener = withJsonDeserializer(chrome.runtime.onMessage.addListener);\n *   const shouldDeserialize = (message) => message.type === 'DESERIALIZE_ME';\n *   deserializedChromeListener(message => console.log(\"Payload:\", message.payload), shouldDeserialize);\n *   chrome.runtime.sendMessage(\"{'type:'DESERIALIZE_ME','payload':{'prop':4}}\");\n *   //Payload: { prop: 4 };\n *   chrome.runtime.sendMessage(\"{'payload':{'prop':4}}\");\n *   //Payload: \"{'prop':4}\";\n */\n\n\nvar withDeserializer = function withDeserializer() {\n  var deserializer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  return function (addListenerFn) {\n    return function (listener, shouldDeserialize) {\n      return addListenerFn(deserializeListener(listener, deserializer, shouldDeserialize));\n    };\n  };\n};\n/**\n * Given a serializer, returns a function that takes a message sending\n * function as its sole argument and returns a wrapped message sender that\n * automaticaly serializes message payloads. The message sender\n * is expected to take the message as its first argument, unless messageArgIndex\n * is nonzero, in which case it is expected in the position specified by messageArgIndex.\n * @param {Function} serializer A function that serializes a message payload\n * Example Usage:\n *   const withJsonSerializer = withSerializer(payload => JSON.stringify(payload))\n *   const serializedChromeSender = withJsonSerializer(chrome.runtime.sendMessage)\n *   chrome.runtime.addListener(message => console.log(\"Payload:\", message.payload))\n *   serializedChromeSender({ payload: { prop: 4 }})\n *   //Payload: \"{'prop':4}\"\n */\n\n\nexports.withDeserializer = withDeserializer;\n\nvar withSerializer = function withSerializer() {\n  var serializer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  return function (sendMessageFn) {\n    var messageArgIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      if (args.length <= messageArgIndex) {\n        throw new Error(\"Message in request could not be serialized. \" + \"Expected message in position \".concat(messageArgIndex, \" but only received \").concat(args.length, \" args.\"));\n      }\n\n      args[messageArgIndex] = transformPayload(args[messageArgIndex], serializer);\n      return sendMessageFn.apply(void 0, args);\n    };\n  };\n};\n\nexports.withSerializer = withSerializer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.assignin\"));\n\nvar _constants = require(\"../constants\");\n\nvar _serialization = require(\"../serialization\");\n\nvar _patch = _interopRequireDefault(require(\"../strategies/shallowDiff/patch\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar backgroundErrPrefix = '\\nLooks like there is an error in the background page. ' + 'You might want to inspect your background page for more details.\\n';\nvar defaultOpts = {\n  portName: _constants.DEFAULT_PORT_NAME,\n  state: {},\n  extensionId: null,\n  serializer: _serialization.noop,\n  deserializer: _serialization.noop,\n  patchStrategy: _patch.default\n};\n\nvar Store =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates a new Proxy store\n   * @param  {object} options An object of form {portName, state, extensionId, serializer, deserializer, diffStrategy}, where `portName` is a required string and defines the name of the port for state transition changes, `state` is the initial state of this store (default `{}`) `extensionId` is the extension id as defined by browserAPI when extension is loaded (default `''`), `serializer` is a function to serialize outgoing message payloads (default is passthrough), `deserializer` is a function to deserialize incoming message payloads (default is passthrough), and patchStrategy is one of the included patching strategies (default is shallow diff) or a custom patching function.\n   */\n  function Store() {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultOpts,\n        _ref$portName = _ref.portName,\n        portName = _ref$portName === void 0 ? defaultOpts.portName : _ref$portName,\n        _ref$state = _ref.state,\n        state = _ref$state === void 0 ? defaultOpts.state : _ref$state,\n        _ref$extensionId = _ref.extensionId,\n        extensionId = _ref$extensionId === void 0 ? defaultOpts.extensionId : _ref$extensionId,\n        _ref$serializer = _ref.serializer,\n        serializer = _ref$serializer === void 0 ? defaultOpts.serializer : _ref$serializer,\n        _ref$deserializer = _ref.deserializer,\n        deserializer = _ref$deserializer === void 0 ? defaultOpts.deserializer : _ref$deserializer,\n        _ref$patchStrategy = _ref.patchStrategy,\n        patchStrategy = _ref$patchStrategy === void 0 ? defaultOpts.patchStrategy : _ref$patchStrategy;\n\n    _classCallCheck(this, Store);\n\n    if (!portName) {\n      throw new Error('portName is required in options');\n    }\n\n    if (typeof serializer !== 'function') {\n      throw new Error('serializer must be a function');\n    }\n\n    if (typeof deserializer !== 'function') {\n      throw new Error('deserializer must be a function');\n    }\n\n    if (typeof patchStrategy !== 'function') {\n      throw new Error('patchStrategy must be one of the included patching strategies or a custom patching function');\n    }\n\n    this.portName = portName;\n    this.readyResolved = false;\n    this.readyPromise = new Promise(function (resolve) {\n      return _this.readyResolve = resolve;\n    });\n    this.browserAPI = (0, _util.getBrowserAPI)();\n    this.extensionId = extensionId; // keep the extensionId as an instance variable\n\n    this.port = this.browserAPI.runtime.connect(this.extensionId, {\n      name: portName\n    });\n    this.safetyHandler = this.safetyHandler.bind(this);\n    this.safetyMessage = this.browserAPI.runtime.onMessage.addListener(this.safetyHandler);\n    this.serializedPortListener = (0, _serialization.withDeserializer)(deserializer)(function () {\n      var _this$port$onMessage;\n\n      return (_this$port$onMessage = _this.port.onMessage).addListener.apply(_this$port$onMessage, arguments);\n    });\n    this.serializedMessageSender = (0, _serialization.withSerializer)(serializer)(function () {\n      var _this$browserAPI$runt;\n\n      return (_this$browserAPI$runt = _this.browserAPI.runtime).sendMessage.apply(_this$browserAPI$runt, arguments);\n    }, 1);\n    this.listeners = [];\n    this.state = state;\n    this.patchStrategy = patchStrategy; // Don't use shouldDeserialize here, since no one else should be using this port\n\n    this.serializedPortListener(function (message) {\n      switch (message.type) {\n        case _constants.STATE_TYPE:\n          _this.replaceState(message.payload);\n\n          if (!_this.readyResolved) {\n            _this.readyResolved = true;\n\n            _this.readyResolve();\n          }\n\n          break;\n\n        case _constants.PATCH_STATE_TYPE:\n          _this.patchState(message.payload);\n\n          break;\n\n        default: // do nothing\n\n      }\n    });\n    this.dispatch = this.dispatch.bind(this); // add this context to dispatch\n  }\n  /**\n  * Returns a promise that resolves when the store is ready. Optionally a callback may be passed in instead.\n  * @param [function] callback An optional callback that may be passed in and will fire when the store is ready.\n  * @return {object} promise A promise that resolves when the store has established a connection with the background page.\n  */\n\n\n  _createClass(Store, [{\n    key: \"ready\",\n    value: function ready() {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (cb !== null) {\n        return this.readyPromise.then(cb);\n      }\n\n      return this.readyPromise;\n    }\n    /**\n     * Subscribes a listener function for all state changes\n     * @param  {function} listener A listener function to be called when store state changes\n     * @return {function}          An unsubscribe function which can be called to remove the listener from state updates\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(listener) {\n      var _this2 = this;\n\n      this.listeners.push(listener);\n      return function () {\n        _this2.listeners = _this2.listeners.filter(function (l) {\n          return l !== listener;\n        });\n      };\n    }\n    /**\n     * Replaces the state for only the keys in the updated state. Notifies all listeners of state change.\n     * @param {object} state the new (partial) redux state\n     */\n\n  }, {\n    key: \"patchState\",\n    value: function patchState(difference) {\n      this.state = this.patchStrategy(this.state, difference);\n      this.listeners.forEach(function (l) {\n        return l();\n      });\n    }\n    /**\n     * Replace the current state with a new state. Notifies all listeners of state change.\n     * @param  {object} state The new state for the store\n     */\n\n  }, {\n    key: \"replaceState\",\n    value: function replaceState(state) {\n      this.state = state;\n      this.listeners.forEach(function (l) {\n        return l();\n      });\n    }\n    /**\n     * Get the current state of the store\n     * @return {object} the current store state\n     */\n\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.state;\n    }\n    /**\n     * Stub function to stay consistent with Redux Store API. No-op.\n     */\n\n  }, {\n    key: \"replaceReducer\",\n    value: function replaceReducer() {\n      return;\n    }\n    /**\n     * Dispatch an action to the background using messaging passing\n     * @param  {object} data The action data to dispatch\n     * @return {Promise}     Promise that will resolve/reject based on the action response from the background\n     */\n\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(data) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this3.serializedMessageSender(_this3.extensionId, {\n          type: _constants.DISPATCH_TYPE,\n          portName: _this3.portName,\n          payload: data\n        }, null, function (resp) {\n          var error = resp.error,\n              value = resp.value;\n\n          if (error) {\n            var bgErr = new Error(\"\".concat(backgroundErrPrefix).concat(error));\n            reject((0, _lodash.default)(bgErr, error));\n          } else {\n            resolve(value && value.payload);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"safetyHandler\",\n    value: function safetyHandler(message) {\n      if (message.action === 'storeReady') {\n        // Remove Saftey Listener\n        this.browserAPI.runtime.onMessage.removeListener(this.safetyHandler); // Resolve if readyPromise has not been resolved.\n\n        if (!this.readyResolved) {\n          this.readyResolved = true;\n          this.readyResolve();\n        }\n      }\n    }\n  }]);\n\n  return Store;\n}();\n\nvar _default = Store;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = applyMiddleware;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n// Function taken from redux source\n// https://github.com/reactjs/redux/blob/master/src/compose.js\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n} // Based on redux implementation of applyMiddleware to support all standard\n// redux middlewares\n\n\nfunction applyMiddleware(store) {\n  for (var _len2 = arguments.length, middlewares = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    middlewares[_key2 - 1] = arguments[_key2];\n  }\n\n  var _dispatch = function dispatch() {\n    throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n  };\n\n  var middlewareAPI = {\n    getState: store.getState.bind(store),\n    dispatch: function dispatch() {\n      return _dispatch.apply(void 0, arguments);\n    }\n  };\n  middlewares = (middlewares || []).map(function (middleware) {\n    return middleware(middlewareAPI);\n  });\n  _dispatch = compose.apply(void 0, _toConsumableArray(middlewares))(store.dispatch);\n  store.dispatch = _dispatch;\n  return store;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DIFF_STATUS_ARRAY_UPDATED = exports.DIFF_STATUS_KEYS_UPDATED = exports.DIFF_STATUS_REMOVED = exports.DIFF_STATUS_UPDATED = void 0;\n// The `change` value for updated or inserted fields resulting from shallow diff\nvar DIFF_STATUS_UPDATED = 'updated'; // The `change` value for removed fields resulting from shallow diff\n\nexports.DIFF_STATUS_UPDATED = DIFF_STATUS_UPDATED;\nvar DIFF_STATUS_REMOVED = 'removed';\nexports.DIFF_STATUS_REMOVED = DIFF_STATUS_REMOVED;\nvar DIFF_STATUS_KEYS_UPDATED = 'updated_keys';\nexports.DIFF_STATUS_KEYS_UPDATED = DIFF_STATUS_KEYS_UPDATED;\nvar DIFF_STATUS_ARRAY_UPDATED = 'updated_array';\nexports.DIFF_STATUS_ARRAY_UPDATED = DIFF_STATUS_ARRAY_UPDATED;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = shallowDiff;\n\nvar _constants = require(\"../constants\");\n\n/**\n * Returns a new Object containing only the fields in `new` that differ from `old`\n *\n * @param {Object} old\n * @param {Object} new\n * @return {Array} An array of changes. The changes have a `key`, `value`, and `change`.\n *   The change is either `updated`, which is if the value has changed or been added,\n *   or `removed`.\n */\nfunction shallowDiff(oldObj, newObj) {\n  var difference = [];\n  Object.keys(newObj).forEach(function (key) {\n    if (oldObj[key] !== newObj[key]) {\n      difference.push({\n        key: key,\n        value: newObj[key],\n        change: _constants.DIFF_STATUS_UPDATED\n      });\n    }\n  });\n  Object.keys(oldObj).forEach(function (key) {\n    if (!newObj.hasOwnProperty(key)) {\n      difference.push({\n        key: key,\n        change: _constants.DIFF_STATUS_REMOVED\n      });\n    }\n  });\n  return difference;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _constants = require(\"../constants\");\n\nfunction _default(obj, difference) {\n  var newObj = Object.assign({}, obj);\n  difference.forEach(function (_ref) {\n    var change = _ref.change,\n        key = _ref.key,\n        value = _ref.value;\n\n    switch (change) {\n      case _constants.DIFF_STATUS_UPDATED:\n        newObj[key] = value;\n        break;\n\n      case _constants.DIFF_STATUS_REMOVED:\n        Reflect.deleteProperty(newObj, key);\n        break;\n\n      default: // do nothing\n\n    }\n  });\n  return newObj;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBrowserAPI = getBrowserAPI;\n\n/**\n * Looks for a global browser api, first checking the chrome namespace and then\n * checking the browser namespace. If no appropriate namespace is present, this\n * function will throw an error.\n */\nfunction getBrowserAPI() {\n  var api = global.chrome || global.browser || browser;\n\n  if (!api) {\n    throw new Error(\"Browser API is not present\");\n  }\n\n  return api;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"../constants\");\n\nvar _serialization = require(\"../serialization\");\n\nvar _util = require(\"../util\");\n\nvar _diff = _interopRequireDefault(require(\"../strategies/shallowDiff/diff\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Responder for promisified results\n * @param  {object} dispatchResult The result from `store.dispatch()`\n * @param  {function} send         The function used to respond to original message\n * @return {undefined}\n */\nvar promiseResponder = function promiseResponder(dispatchResult, send) {\n  Promise.resolve(dispatchResult).then(function (res) {\n    send({\n      error: null,\n      value: res\n    });\n  }).catch(function (err) {\n    console.error('error dispatching result:', err);\n    send({\n      error: err.message,\n      value: null\n    });\n  });\n};\n\nvar defaultOpts = {\n  portName: _constants.DEFAULT_PORT_NAME,\n  dispatchResponder: promiseResponder,\n  serializer: _serialization.noop,\n  deserializer: _serialization.noop,\n  diffStrategy: _diff.default\n};\n/**\n * Wraps a Redux store so that proxy stores can connect to it.\n * @param {Object} store A Redux store\n * @param {Object} options An object of form {portName, dispatchResponder, serializer, deserializer}, where `portName` is a required string and defines the name of the port for state transition changes, `dispatchResponder` is a function that takes the result of a store dispatch and optionally implements custom logic for responding to the original dispatch message,`serializer` is a function to serialize outgoing message payloads (default is passthrough), `deserializer` is a function to deserialize incoming message payloads (default is passthrough), and diffStrategy is one of the included diffing strategies (default is shallow diff) or a custom diffing function.\n */\n\nvar _default = function _default(store) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOpts,\n      _ref$portName = _ref.portName,\n      portName = _ref$portName === void 0 ? defaultOpts.portName : _ref$portName,\n      _ref$dispatchResponde = _ref.dispatchResponder,\n      dispatchResponder = _ref$dispatchResponde === void 0 ? defaultOpts.dispatchResponder : _ref$dispatchResponde,\n      _ref$serializer = _ref.serializer,\n      serializer = _ref$serializer === void 0 ? defaultOpts.serializer : _ref$serializer,\n      _ref$deserializer = _ref.deserializer,\n      deserializer = _ref$deserializer === void 0 ? defaultOpts.deserializer : _ref$deserializer,\n      _ref$diffStrategy = _ref.diffStrategy,\n      diffStrategy = _ref$diffStrategy === void 0 ? defaultOpts.diffStrategy : _ref$diffStrategy;\n\n  if (!portName) {\n    throw new Error('portName is required in options');\n  }\n\n  if (typeof serializer !== 'function') {\n    throw new Error('serializer must be a function');\n  }\n\n  if (typeof deserializer !== 'function') {\n    throw new Error('deserializer must be a function');\n  }\n\n  if (typeof diffStrategy !== 'function') {\n    throw new Error('diffStrategy must be one of the included diffing strategies or a custom diff function');\n  }\n\n  var browserAPI = (0, _util.getBrowserAPI)();\n  /**\n   * Respond to dispatches from UI components\n   */\n\n  var dispatchResponse = function dispatchResponse(request, sender, sendResponse) {\n    if (request.type === _constants.DISPATCH_TYPE && request.portName === portName) {\n      var action = Object.assign({}, request.payload, {\n        _sender: sender\n      });\n      var dispatchResult = null;\n\n      try {\n        dispatchResult = store.dispatch(action);\n      } catch (e) {\n        dispatchResult = Promise.reject(e.message);\n        console.error(e);\n      }\n\n      dispatchResponder(dispatchResult, sendResponse);\n      return true;\n    }\n  };\n  /**\n  * Setup for state updates\n  */\n\n\n  var connectState = function connectState(port) {\n    if (port.name !== portName) {\n      return;\n    }\n\n    var serializedMessagePoster = (0, _serialization.withSerializer)(serializer)(function () {\n      return port.postMessage.apply(port, arguments);\n    });\n    var prevState = store.getState();\n\n    var patchState = function patchState() {\n      var state = store.getState();\n      var diff = diffStrategy(prevState, state);\n\n      if (diff.length) {\n        prevState = state;\n        serializedMessagePoster({\n          type: _constants.PATCH_STATE_TYPE,\n          payload: diff\n        });\n      }\n    }; // Send patched state down connected port on every redux store state change\n\n\n    var unsubscribe = store.subscribe(patchState); // when the port disconnects, unsubscribe the sendState listener\n\n    port.onDisconnect.addListener(unsubscribe); // Send store's initial state through port\n\n    serializedMessagePoster({\n      type: _constants.STATE_TYPE,\n      payload: prevState\n    });\n  };\n\n  var withPayloadDeserializer = (0, _serialization.withDeserializer)(deserializer);\n\n  var shouldDeserialize = function shouldDeserialize(request) {\n    return request.type === _constants.DISPATCH_TYPE && request.portName === portName;\n  };\n  /**\n   * Setup action handler\n   */\n\n\n  withPayloadDeserializer(function () {\n    var _browserAPI$runtime$o;\n\n    return (_browserAPI$runtime$o = browserAPI.runtime.onMessage).addListener.apply(_browserAPI$runtime$o, arguments);\n  })(dispatchResponse, shouldDeserialize);\n  /**\n   * Setup external action handler\n   */\n\n  if (browserAPI.runtime.onMessageExternal) {\n    withPayloadDeserializer(function () {\n      var _browserAPI$runtime$o2;\n\n      return (_browserAPI$runtime$o2 = browserAPI.runtime.onMessageExternal).addListener.apply(_browserAPI$runtime$o2, arguments);\n    })(dispatchResponse, shouldDeserialize);\n  } else {\n    console.warn('runtime.onMessageExternal is not supported');\n  }\n  /**\n   * Setup extended connection\n   */\n\n\n  browserAPI.runtime.onConnect.addListener(connectState);\n  /**\n   * Setup extended external connection\n   */\n\n  if (browserAPI.runtime.onConnectExternal) {\n    browserAPI.runtime.onConnectExternal.addListener(connectState);\n  } else {\n    console.warn('runtime.onConnectExternal is not supported');\n  }\n  /**\n   * Safety message to tabs for content scripts\n   */\n\n\n  browserAPI.tabs.query({}, function (tabs) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = tabs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var tab = _step.value;\n        browserAPI.tabs.sendMessage(tab.id, {\n          action: 'storeReady'\n        }, function () {\n          if (chrome.runtime.lastError) {// do nothing - errors can be present\n            // if no content script exists on reciever\n          }\n        });\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }); // For non-tab based\n  // TODO: Find use case for this. Ommiting until then.\n  // browserAPI.runtime.sendMessage(null, {action: 'storeReady'});\n};\n\nexports.default = _default;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { newRequestFields } from \"../types\";\n\n//ACTION CONSTANTS\nexport const ERROR = \"ERROR\";\nexport const CLEAR_REQUESTS = \"CLEAR_REQUESTS\";\nexport const TOGGLE_CHECKBOX = \"TOGGLE_CHECKBOX\";\nexport const STATUSCODE_CHANGE = \"STATUSCODE_CHANGE\";\nexport const RESP_TEXT_CHANGE = \"RESP_TEXT_CHANGE\";\nexport const CONTENT_TYPE_CHANGE = \"CONTENT_TYPE_CHANGE\";\nexport const PAGINATION_CHANGE = \"PAGINATION_CHANGE\";\nexport const UPDATE_MESSAGE = \"UPDATE_MESSAGE\";\nexport const UPDATE_INTERCEPTOR_STATUS = \"UPDATE_INTERCEPTOR_STATUS\";\nexport const FETCH_DATA = \"FETCH_DATA\";\nexport const FETCH_DATA_IN_PROGRESS = \"FETCH_DATA_IN_PROGRESS\";\nexport const FETCH_DATA_SUCCESS = \"FETCH_DATA_SUCCESS\";\nexport const FETCH_DATA_FAILURE = \"FETCH_DATA_FAILURE\";\nexport const UPDATE_REQUEST = \"UPDATE_REQUEST\";\nexport const TOGGLE_LISTENING = \"TOGGLE_LISTENING\";\nexport const INITIALISE_DEFAULTS = \"INITIALISE_DEFAULTS\";\nexport const TOGGLE_SHOW_ADD_REQUEST = \"TOGGLE_SHOW_ADD_REQUEST\";\nexport const CHANGE_URL_TABLE = \"CHANGE_URL_TABLE\";\n\n// Action Creators\nexport function errorNotify(errorMessage: string, tabId: number) {\n  return { type: ERROR, payload: { errorMessage, tabId } };\n}\n\nexport function clearFields(tabId: number) {\n  return { type: CLEAR_REQUESTS, payload: { tabId } };\n}\nexport function handleCheckToggle(tabId: number, reqId: number, checked: boolean) {\n  return { type: TOGGLE_CHECKBOX, payload: { tabId, reqId, checked } };\n}\nexport function handleStatusCodeChange(value: string, requestId: string, tabId: number) {\n  return { type: STATUSCODE_CHANGE, payload: { value, requestId, tabId } };\n}\nexport function handleRespTextChange(value: string, requestId: string, tabId: number) {\n  return { type: RESP_TEXT_CHANGE, payload: { value, requestId, tabId } };\n}\nexport function handleContentTypeChange(value: string, requestId: string, tabId: number) {\n  return { type: CONTENT_TYPE_CHANGE, payload: { value, requestId, tabId } };\n}\nexport function handlePaginationChange(value: string, tabId: number, field: string) {\n  return { type: PAGINATION_CHANGE, payload: { field, value, tabId } };\n}\nexport function sendMessageToUI(message: string, tabId: number) {\n  return { type: UPDATE_MESSAGE, payload: { message, tabId } };\n}\nexport function updateInterceptorStatus(tabId: number, value: boolean) {\n  return { type: UPDATE_INTERCEPTOR_STATUS, payload: { tabId, value } };\n}\nexport function fetchingResponse(\n  tabId: number,\n  requestId:any,\n  fetching: boolean\n){\n  return {\n    type: FETCH_DATA_IN_PROGRESS,\n    payload:{\n      tabId,\n      requestId,\n      fetching\n    }\n  }\n}\nexport function fetchResponse(\n  requestDetails: chrome.webRequest.WebRequestHeadersDetails,\n  tabId: number\n) {\n  return {\n    type: FETCH_DATA,\n    payload: { requestDetails, tabId }\n  };\n}\nexport function fetchSuccess(data: string, requestId: string, tabId: number) {\n  return { type: FETCH_DATA_SUCCESS, payload: { response: data, requestId, tabId } };\n}\nexport function fetchFailure(error: string, requestId: string, tabId: number) {\n  return { type: FETCH_DATA_FAILURE, payload: { error: error, requestId, tabId } };\n}\nexport function updateRequest(\n  tabId: number,\n  request: Array<chrome.webRequest.WebRequestDetails | newRequestFields>\n) {\n  return { type: UPDATE_REQUEST, payload: { tabId, request } };\n}\nexport function toggleListeningRequests(tabId: number, enabledStatus: boolean) {\n  return { type: TOGGLE_LISTENING, payload: { tabId, enabledStatus } };\n}\nexport function initialiseDefaults(\n  currentTab: number,\n  currentUrl: string,\n  interceptStatus: string\n) {\n  return {\n    type: INITIALISE_DEFAULTS,\n    payload: { currentTab, currentUrl, interceptStatus }\n  };\n}\n\nexport const toggleAddRequestForm = (showAddRuleModal: boolean) => {\n  return {\n    type: TOGGLE_SHOW_ADD_REQUEST,\n    payload: { showAddRuleModal }\n  };\n};\nexport const handleChangeUrl = (value: string, tabId: number, index: number) => {\n  return { type: CHANGE_URL_TABLE, payload: { value, tabId, index } };\n};\n","import { Store } from \"webext-redux\";\nimport { sendMessageToUI } from \"./../actions\";\n\ninterface BgStore {\n  ready(): Promise<void>;\n  getState(): any;\n  dispatch: any;\n}\n\nexport interface responseField {\n  [requestId: number]: string;\n}\nexport interface statusCodes {\n  [statusCode: number]: string;\n}\nexport interface contentType {\n  [contentType: number]: string;\n}\ninterface selectedReqs {\n  interceptEnabledForTab?: boolean;\n  checkedTabRecords: any;\n  requestsToIntercept: Array<chrome.webRequest.WebRequestBodyDetails>;\n  tabId?: number;\n}\nexport type GenericCallbackWithoutParams = () => void;\nclass Intercept {\n  store: BgStore;\n\n  constructor() {\n    this.store = new Store({\n      portName: \"INTERCEPTOR\"\n    });\n  }\n\n  startMessageListener = () => {\n    this.store.ready().then(() => {\n      chrome.runtime.onMessage.addListener(request => {\n        switch (request.message) {\n          case \"CLEAR_DATA\":\n            this.clearAll();\n            break;\n\n          default:\n            this.interceptSelected(request.message, request.tabId);\n        }\n      });\n    });\n  };\n\n  clearAll = () => {\n    this.runInterceptor({\n      requestsToIntercept: [],\n      checkedTabRecords: []\n    });\n  };\n\n  interceptSelected = (message: string, tabId: number) => {\n    const presentState = this.store.getState().rootReducer.tabRecord[tabId];\n    if (!presentState) {\n      return;\n    }\n\n    const isEmptyObject = (value: any) => {\n      return Object.keys(value).length === 0;\n    };\n\n    const requestsToIntercept = presentState.requests.filter(\n      (req: chrome.webRequest.WebRequestBodyDetails) => {\n        return presentState.checkedReqs[req.requestId] && tabId;\n      }\n    );\n\n    const checkedReqs = presentState.checkedReqs;\n    let storeRequestRecords = presentState.requestRecords;\n    let checkedTabRecords = {};\n    for (let checkedReqId in checkedReqs) {\n      if (checkedReqs[checkedReqId]) {\n        if (!storeRequestRecords[checkedReqId].contentType) {\n          storeRequestRecords[checkedReqId].contentType = \"application/json\";\n        }\n        if (!storeRequestRecords[checkedReqId].statusCode) {\n          storeRequestRecords[checkedReqId].statusCode = \"200\";\n        }\n        checkedTabRecords[checkedReqId] = storeRequestRecords[checkedReqId];\n      }\n    }\n    const requestObj = {\n      interceptEnabledForTab: presentState.isInterceptorOn,\n      requestsToIntercept,\n      checkedTabRecords,\n      tabId\n    };\n\n    if (message !== \"DISABLE_INTERCEPTOR\") {\n      if (\n        requestObj.requestsToIntercept.length < 1 ||\n        !requestObj.tabId ||\n        isEmptyObject(checkedTabRecords) ||\n        requestObj.requestsToIntercept.find((req: chrome.webRequest.WebRequestBodyDetails) => {\n          req.tabId !== requestObj.tabId;\n        })\n      ) {\n        return;\n      }\n    }\n    this.injectScripts(() => {\n      if (\n        (message === \"INTERCEPT_CHECKED\" || message === \"PAGE_REFRESHED\") &&\n        requestObj.interceptEnabledForTab\n      ) {\n        this.runInterceptor(requestObj);\n        this.store.dispatch(sendMessageToUI(\"Interception Success!\", requestObj.tabId));\n      } else if (message === \"DISABLE_INTERCEPTOR\" && !requestObj.interceptEnabledForTab) {\n        this.disableInterceptor();\n        this.store.dispatch(sendMessageToUI(\"Interception Disabled!\", requestObj.tabId));\n      }\n    });\n  };\n\n  removeScriptFromDom = (querySelector: string) => {\n    while (document.querySelectorAll(querySelector).length) {\n      let elemToRemove = document.querySelector(querySelector) as Node;\n      const parentElement: Node | null = elemToRemove.parentNode;\n      parentElement.removeChild(elemToRemove);\n    }\n  };\n\n  runInterceptor = (selectedReqs: selectedReqs) => {\n    var selectedInterceptCode = `\n     (function(){\n       if (window.interceptor) {\n         window.interceptor.server = null;\n       }\n      function matchUrl(urlfromSinon, urlFromArray){\n          const aTag = document.createElement('a');\n          aTag.href = urlfromSinon\n          requestUrl = new URL(urlFromArray)\n          aTagSearchParams = new URLSearchParams(aTag.search)\n          reqUrlParams = new URLSearchParams(requestUrl.search)\n          aTagSearchParams.sort();\n          reqUrlParams.sort()\n          return (aTag.hostname === requestUrl.hostname && aTag.pathname === requestUrl.pathname && aTagSearchParams.toString() === reqUrlParams.toString())\n      }\n\n       function sinonHandler(requestArray) {\n           this.server = nise.fakeServer.create({ logger: console.log });\n           this.server.autoRespond = true;\n           this.server.xhr.filters = [];\n           this.server.xhr.useFilters = true;\n            //If the filter returns true, the request will not be faked - leave original\n           this.server.xhr.addFilter(function(method, url, async, username, password) {\n             const result = requestArray.requestsToIntercept.find((request) => {\n               return matchUrl(url, request.url)\n             })\n             return !result\n           });\n           this.server.respondWith((xhr, id) => {\n             const respondUrl = requestArray.requestsToIntercept.find((request) => {\n                if( matchUrl(xhr.url, request.url ) && xhr.method === request.method){\n                  xhr.respond(Number(requestArray.checkedTabRecords[request.requestId].statusCode), { \"Content-Type\": requestArray.checkedTabRecords[request.requestId].statusCode },requestArray.checkedTabRecords[request.requestId].responseText.toString())\n                }\n             })\n           })\n           if (window.interceptor) {\n            window.interceptor = null\n          }\n         }\n          window.interceptor = new sinonHandler(${JSON.stringify(selectedReqs)});\n     })();`;\n\n    let script = document.createElement(\"script\");\n    script.defer = true;\n    script.id = \"enableInterceptorScript\";\n    script.type = \"text/javascript\";\n    script.textContent = selectedInterceptCode;\n    (document.head || document.documentElement).appendChild(script);\n    this.removeScriptFromDom(\"#enableInterceptorScript\");\n  };\n\n  disableInterceptor = () => {\n    var selectedInterceptCode = `\n      (function(){\n        if(window.interceptor){\n          window.interceptor.server.restore()\n        }\n      })();`;\n    let script = document.createElement(\"script\");\n    script.defer = false;\n    script.id = \"disableInterceptorScript\";\n    script.type = \"text/javascript\";\n    script.textContent = selectedInterceptCode;\n    (document.head || document.documentElement).appendChild(script);\n    this.removeScriptFromDom(\"#disableInterceptorScript\");\n  };\n\n  injectScripts = (callback: GenericCallbackWithoutParams) => {\n    let sinonScript = document.createElement(\"script\");\n    sinonScript.defer = false;\n    sinonScript.src = chrome.extension.getURL(\"./lib/nise.min.js\");\n    sinonScript.type = \"text/javascript\";\n    sinonScript.id = \"interceptor-sinon\";\n    if (!document.getElementById(\"interceptor-sinon\")) {\n      (document.head || document.documentElement).appendChild(sinonScript);\n    } else {\n      callback();\n    }\n    sinonScript.onload = callback;\n  };\n}\nnew Intercept().startMessageListener();\n"],"sourceRoot":""}